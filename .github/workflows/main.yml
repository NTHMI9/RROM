name: VH-OS
on: 
  workflow_dispatch:
  issues:
    types:
      - opened
      - reopened
permissions: write-all
jobs:
  build:
    name: 'Xem qu√° tr√¨nh'
    if: github.repository == 'chamchamfy/RROM' && github.ref == 'refs/heads/main'
    runs-on: ubuntu-22.04
    env:
      NUMBIE: ${{ github.event.issue.number }}
      GH_TOKEN: ${{ github.token }}
    steps:
      - name: 'Chat bot'
        uses: actions/github-script@v6
        with:
          script: |
            github.rest.issues.addLabels({
              issue_number: ${{ github.event.issue.number }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels: ['Wait']
            })
            github.rest.issues.createComment({
              issue_number: ${{ github.event.issue.number }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: "ƒêang trong qu√° tr√¨nh x√¢y d·ª±ng, vui l√≤ng ch·ªù...<br/><br/>Sau khi xong link s·∫Ω ƒë∆∞·ª£c g·ª≠i v√†o b√†i vi·∫øt n√†y, ho·∫∑c xem qu√° tr√¨nh x√¢y d·ª±ng üì±[Actions](https://github.com/chamchamfy/RROM/actions)<br/><br/>Mu·ªën h·ªßy qu√° tr√¨nh h√£y ·∫•n n√∫t `Close Issues`, ch·ªâ c√≥ th·ªÉ h·ªßy khi ƒëang t·∫£i rom v·ªÅ."
            })
      - name: N·∫°p d·ªØ li·ªáu
        uses: actions/checkout@v3
      - name: 'T·∫£i v·ªÅ'
        run: |
          # Taive          
          bash .github/Taive.sh
      - name: 'Xem build ROM'
        run: |
          # CC          
          bash .github/Chay.sh
      - name: Upload
        run: |
          # kakathic         
          bash .github/Upload.sh
      - name: 'D√°n Link & Xo√° th·∫ª'
        uses: actions/github-script@v6
        with:
          script: |
            github.rest.issues.update({
              issue_number: ${{ github.event.issue.number }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              state: 'closed',
              state_reason: 'completed',
              labels: ["${{ env.THETB }}"]
            })
            github.rest.issues.createComment({
              issue_number: ${{ github.event.issue.number }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: "${{ env.THATBAI }}"
            })

            
